<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Projects - Xunjian Yin</title>
  <meta name="author" content="Xunjian Yin">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="stylesheet.css">
  <link rel="stylesheet" type="text/css" href="shared-styles.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåê</text></svg>">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400;1,700&display=swap');
    
    :root {
      --primary-color: #0065C0;
      --secondary-color: #B31B1B;
    }
    

    
    /* Page-specific layout - consistent margins for non-index pages */
    .main-content-wrapper {
      max-width: 1000px !important;
      margin: 0 auto !important;
      padding: 0 80px !important;
      box-sizing: border-box !important;
    }
    
    .projects-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 0;
    }
    
    /* Consistent heading spacing */
    heading {
      margin-bottom: 15px !important;
      margin-top: 0px !important;
      display: block;
    }
    
    /* Consistent list spacing */
    li {
      margin-bottom: 8px !important;
      margin-top: 0px !important;
      padding-bottom: 0px !important;
      padding-top: 0px !important;
    }
    
    /* Remove spacing from paragraphs within list items */
    li p {
      margin: 0px !important;
      padding: 0px !important;
    }
    
    .page-title {
      text-align: center;
      font-size: 28px;
      margin-bottom: 30px;
      color: var(--primary-color);
    }
    
    .project-item {
      margin-bottom: 20px;
      padding: 0;
      border: none;
      background: transparent;
      box-shadow: none;
    }
    
    .project-title {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 5px;
      color: var(--text-color, #333);
    }
    
    .project-description {
      margin-bottom: 10px;
      line-height: 1.6;
      color: var(--text-color, #333);
    }
    

    
    @media screen and (max-width: 600px) {
      .nav-buttons {
        justify-content: center;
        gap: 15px;
        padding: 15px 20px;
      }
      
      .nav-button {
        font-size: 13px;
        padding: 5px 10px;
      }
      

      
      .main-content-wrapper {
        padding: 0 15px;
      }
    }
    
    /* Dark mode styles */
    [data-theme="dark"] .project-description {
      color: var(--text-color, #d4d4d4);
    }
  </style>
</head>

<body>
  <!-- Navigation Buttons -->
  <nav class="nav-buttons" role="navigation" aria-label="Main navigation">
    <a href="index.html" class="nav-button">Home</a>
    <a href="publications.html" class="nav-button">Publications</a>
    <a href="projects.html" class="nav-button" aria-current="page">Projects</a>
    <a href="blogs.html" class="nav-button">Blogs</a>
    <a href="photography.html" class="nav-button">Photography</a>
    
    <!-- Dark mode toggle -->
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark/light mode">
    </button>
  </nav>

  <!-- Main Content with Padding -->
  <div class="main-content-wrapper">
    <!-- Page Title -->
    <div style="text-align:center;margin-bottom:40px;">
      <h1 class="page-title">Projects</h1>
    </div>
    
    <!-- Projects List -->
    <div style="margin-bottom:40px;">
      <heading id="projects">Projects</heading>
      <ul id="projects-list">
        <!-- Projects will be inserted here -->
      </ul>
    </div>
  </div>

  <!-- Footer -->
  <div class="main-content-wrapper">
    <table style="width:100%;border:0px;border-spacing:0px;border-collapse:separate;">
      <tbody>
        <tr>
          <td style="padding:20px; text-align: center;">
            <br>
            <p style="font-size:small;">
              ¬© 2025 Xunjian Yin. All rights reserved.
            </p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Load JavaScript files -->

  
  <!-- Load data first, then populate projects -->
  <script src="data.js"></script>
  <script>
    // Projects page specific script
    document.addEventListener('DOMContentLoaded', function() {
      // Populate all projects (both selected and non-selected)
      populateProjects(getAllProjects(), 'projects-list');
      
      // Initialize dark mode toggle
      initializeDarkMode();
    });
    
    /**
     * Function to populate projects in the specified container element
     * @param {Array} projects - Array of project objects
     * @param {string} containerId - ID of the container element to populate
     */
    function populateProjects(projects, containerId) {
      const container = document.getElementById(containerId);
      if (!container) return;
      
      projects.forEach(project => {
        const li = document.createElement('li');
        
        // Project title with homepage link
        const titleDiv = document.createElement('div');
        titleDiv.className = 'project-title';
        
        // Check if project has a homepage link in the description
        const homepageMatch = project.description.match(/<a href="([^"]+)">Project Homepage<\/a>/);
        if (homepageMatch) {
          const homepageUrl = homepageMatch[1];
          const titleText = project.title;
          titleDiv.innerHTML = `<strong>${titleText}</strong> (<a href="${homepageUrl}" target="_blank">homepage</a>)`;
        } else {
          titleDiv.textContent = project.title;
        }
        
        // Project description (remove homepage link from description since it's now in title)
        const descDiv = document.createElement('div');
        descDiv.className = 'project-description';
        // Remove the homepage link from description since it's now in the title
        const cleanDescription = project.description.replace(/<a href="[^"]+">Project Homepage<\/a>/, '');
        // Clean up any extra spaces or punctuation that might be left
        const finalDescription = cleanDescription.replace(/\s*\(\s*\)\s*/, '').trim();
        descDiv.innerHTML = finalDescription;
        
        // Append elements
        li.appendChild(titleDiv);
        li.appendChild(descDiv);
        container.appendChild(li);
      });
    }
    
    /**
     * Initialize dark mode functionality
     */
    function initializeDarkMode() {
      const themeToggle = document.getElementById('theme-toggle');
      
      if (!themeToggle) return;
      
      // Check for saved theme preference or default to 'light'
      const currentTheme = localStorage.getItem('theme') || 
        (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      
      // Apply the saved theme
      document.documentElement.setAttribute('data-theme', currentTheme);
      updateThemeLabel(currentTheme, themeToggle);
      
      // Add click event listener
      themeToggle.addEventListener('click', () => {
        const newTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        
        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        updateThemeLabel(newTheme, themeToggle);
      });
      
      // Listen for system theme changes
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
        if (!localStorage.getItem('theme')) {
          const newTheme = e.matches ? 'dark' : 'light';
          document.documentElement.setAttribute('data-theme', newTheme);
          updateThemeLabel(newTheme, themeToggle);
        }
      });
    }

    /**
     * Update theme button label based on current theme
     */
    function updateThemeLabel(theme, toggleElement) {
      toggleElement.setAttribute('aria-label', 
        theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode');
      toggleElement.setAttribute('title', 
        theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode');
    }
  </script>
</body>

</html> 